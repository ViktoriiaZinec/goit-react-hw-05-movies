{"version":3,"file":"static/js/176.4eb920af.chunk.js","mappings":"qPACA,GAAgB,mBAAqB,sCAAsC,kBAAoB,sC,SCElFA,EAAY,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACjC,GAA4BC,EAAAA,EAAAA,UAAQ,OAACF,QAAD,IAACA,EAAAA,EAAS,IAA9C,eAAOG,EAAP,KAAeC,EAAf,KAYA,OACE,iBAAKC,UAAWC,EAAAA,aAAhB,WACE,kBACEC,MAAOJ,EACPK,SAde,SAAAC,GACnB,IAAQF,EAAUE,EAAMC,OAAhBH,MACRH,EAAUG,GACVI,QAAQC,IAAI,aAAcL,EAC3B,EAWKM,KAAK,OACLR,UAAWC,EAAAA,kBACXQ,YAAY,uBAEd,mBACET,UAAWC,EAAAA,mBACXO,KAAK,SACLE,QAhBe,WACnBd,EAASE,GACTC,EAAU,GACX,EAUG,sBASL,E,kBC5BKY,EACE,OADFA,EAEK,UAFLA,EAGK,UAHLA,EAIG,QA8CT,EA3CmB,WACjB,OAA4Bd,EAAAA,EAAAA,UAAS,IAArC,eAAOe,EAAP,KAAeC,EAAf,KACA,GAA4BhB,EAAAA,EAAAA,UAASc,GAArC,eAAOG,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMzB,EAAQwB,EAAaE,IAAI,SAEzBC,GAAcC,EAAAA,EAAAA,cAAW,iBAAC,uFACzB5B,EADyB,wDAE9BoB,EAAUJ,GAFoB,mBAIPa,EAAAA,EAAAA,IAAmB7B,GAJZ,OAItBiB,EAJsB,OAK5BC,EAAUD,EAAOa,KAAKC,SACtBX,EAAUJ,GANkB,kDAQ5BI,EAAUJ,GARkB,0DAU7B,CAAChB,KAEJgC,EAAAA,EAAAA,YAAU,WACRL,GACD,GAAE,CAACA,IASJ,OACE,iCACE,SAAC5B,EAAD,CAAWC,MAAOA,EAAOC,SATR,SAAAE,GACnB,IAAKA,EAAO8B,OACV,OAAOC,MAAM,oBAEfT,EAAgB,CAAEzB,MAAOG,GAC1B,IAKIgB,IAAWH,GAAuB,gBAClCG,IAAWH,GAAqB,iBAChCG,IAAWH,IACV,SAACmB,EAAA,EAAD,CAAWlB,OAAQA,EAAQI,SAAUA,MAI5C,C","sources":["webpack://goit-react-hw-05-movies/./src/components/Searching/Searching.module.css?9c78","components/Searching/Searching.jsx","components/pages/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"search_form_button\":\"Searching_search_form_button__yWFGp\",\"search_form_input\":\"Searching_search_form_input__eWk2F\"};","import { useState } from 'react';\nimport css from './Searching.module.css';\n\nexport const Searching = ({ query, onSearch }) => {\n  const [search, setSearch] = useState(query ?? '');\n\n  const handleChange = event => {\n    const { value } = event.target;\n    setSearch(value);\n    console.log('value :>> ', value);\n  };\n\n  const handleSubmit = () => {\n    onSearch(search);\n    setSearch('');\n  };\n  return (\n    <div className={css.form_control}>\n      <input\n        value={search}\n        onChange={handleChange}\n        type=\"text\"\n        className={css.search_form_input}\n        placeholder=\"Type to search...\"\n      />\n      <button\n        className={css.search_form_button}\n        type=\"submit\"\n        onClick={handleSubmit}\n      >\n        Search\n      </button>\n    </div>\n  );\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { Searching } from 'components/Searching/Searching';\nimport { getSearchingMovies } from 'service/video-servise';\nimport { MovieList } from 'components/MovieList/MovieList';\n\nconst fetchStatus = {\n  Idle: 'idle',\n  Loading: 'loading',\n  Success: 'success',\n  Error: 'error',\n};\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [status, setStatus] = useState(fetchStatus.Idle);\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  const fetchMovies = useCallback(async () => {\n    if (!query) return;\n    setStatus(fetchStatus.Loading);\n    try {\n      const movies = await getSearchingMovies(query);\n      setMovies(movies.data.results);\n      setStatus(fetchStatus.Success);\n    } catch (err) {\n      setStatus(fetchStatus.Error);\n    }\n  }, [query]);\n\n  useEffect(() => {\n    fetchMovies();\n  }, [fetchMovies]);\n\n  const handleSearch = search => {\n    if (!search.trim()) {\n      return alert('Please type text');\n    }\n    setSearchParams({ query: search });\n  };\n\n  return (\n    <>\n      <Searching query={query} onSearch={handleSearch} />\n      {status === fetchStatus.Loading && 'Loading, wait'}\n      {status === fetchStatus.Error && 'Error fetching'}\n      {status === fetchStatus.Success && (\n        <MovieList movies={movies} location={location} />\n      )}\n    </>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["Searching","query","onSearch","useState","search","setSearch","className","css","value","onChange","event","target","console","log","type","placeholder","onClick","fetchStatus","movies","setMovies","status","setStatus","location","useLocation","useSearchParams","searchParams","setSearchParams","get","fetchMovies","useCallback","getSearchingMovies","data","results","useEffect","trim","alert","MovieList"],"sourceRoot":""}